#:kivy 1.0.9

#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton

<ListItemButton>:
	selected_color: .5,.5,.5,1
	deselected_color: .3,.3,.3,1
	on_press: app.root.change(*args)
<MainWidget>:

	BoxLayout:
		size: root.size
		padding: 10
		spacing: 25


		BoxLayout:
			size_hint: 0.3,1
			orientation: 'vertical'
			spacing:30

			BoxLayout:
				orientation: 'vertical'
				spacing: 5
				Label:
					text:"Choose Protocol"
				ToggleButton:
					text: "Goose"
					group: "g1"
					on_press:root.protocol1()

				ToggleButton:
					text: "MMS"
					group: "g1"
					on_press:root.protocol2()

				ToggleButton:
					text:"SV"
					group: "g1"
					on_press:root.protocol3()

			BoxLayout:
				orientation:'vertical'
				spacing: 10
				Button:
					id: start
					text:"Start"
					on_release: root.start()
				Button:
					id: stop
					text:"Stop capture"
					on_release: root.stop()
					
		BoxLayout:
			orientation: 'vertical'


			Label:

				size_hint: None, 0.135
				text: "PiShark 0.0.3"

			BoxLayout:
				size_hint_y: .1
				Label:
					size_hint_x: .2
					text: 'Src'
				TextInput:
					id: src
					multiline: False
				
				Label:
					size_hint_x: .2
					text: 'Dst'
				TextInput:
					id: dst
					multiline: False
				
				Button:
					id:close
					text: 'Close app'
				
				
			ListView:
				size_hint_y: .8
				adapter:
					ListAdapter(data=root.my_data,
					selection_mode='single',
					allow_empty_selection=False,
					cls=ListItemButton)
				canvas.before:
					Color:
						rgb: .5,.5,.5
					Rectangle:
						pos: self.pos
						size: self.size
			Label:
				size_hint_y: .1
				canvas.before:
					Color:
						rgb: .75,.75,75
					Rectangle:
						pos: self.pos
						size: self.size
				text: root.selected_value
