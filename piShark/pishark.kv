#:kivy 1.0.9

#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton

<ListItemButton>:
	selected_color: .7, .7, .7,1
	deselected_color: .3,.3,.3,1
	on_press: app.root.change(*args)

<MainWidget>:
	BoxLayout:
		size: root.size
		padding: 10
		spacing:25


		BoxLayout:
			size_hint: 0.3,1
			orientation:'vertical'
			spacing:30			

			BoxLayout:
				orientation:'vertical'
				spacing: 5
				Label
					text:"Choose Protocol"
				ToggleButton:
					text: "MMS"
					group: "g1"
				ToggleButton:
					text: "Goose"
					group: "g1"
				ToggleButton:
					text: "SV"
					group: "g1"

			BoxLayout:
				orientation:'vertical'
				spacing: 10
				Button:
					id: nappi
					text: "Start"
					on_release: root.teejotain()
				Button:
					text: "Stop"

		BoxLayout:
			orientation:'vertical'


			Label:
				size_hint: None, 0.135
				text: "PiShark 0.0.1"
			BoxLayout:
				size_hint_y: .1
				Label:
					size_hint_x: .2
					text: 'Src'
				TextInput:
					id: add_box
					multiline: False
				
				Label:
					size_hint_x: .2
					text: 'Dst'
				TextInput:
					multiline: False
				Button:
					text: 'Add'
					on_press: root.my_data.append(add_box.text)
			ListView:
				size_hint_y: .8
				adapter:
					ListAdapter(data=root.my_data,
					selection_mode='single',
					allow_empty_selection=False,
					cls=ListItemButton)
				canvas.before:
					Color:
						rgb: .5,.5,.5
					Rectangle:
						pos: self.pos
						size: self.size
			Label:
				size_hint_y: .1
				canvas.before:
					Color:
						rgb: .75,.75,.75
					Rectangle:
						pos: self.pos
						size: self.size
				text: root.selected_value
